<% if(!currentUser) {%>
  <% layout('layouts/boilerplate')%>
  <% } else {%>
    <% layout('layouts/boilerlogin')%>
    <% } %>
<style>
.cd{
   border-color: black; 
   display: flex;
  justify-content: center;
  flex-direction: row;
  

}
.card{
display: inline;
  margin-left:15px ;
 margin:1rem;
 width: 35%; 
 box-shadow: rgba(0, 0, 0, 0.4) 0px 2px 4px, rgba(0, 0, 0, 0.3) 0px 7px 13px -3px, rgba(0, 0, 0, 0.2) 0px -3px 0px inset;
}
.card-title,.list-group-items{
    width:55%;
    font-size: 1rem;
}
.card-title{
    font-size: 1.5rem;
   
}
.card-header{
  font-size: x-large;
  text-align: center;
  text-transform: uppercase;
  font-weight: 600;
}
h5 {
  margin: 4px;
  padding:7px;
  background-color:orange;
  text-align: center;
  text-transform: uppercase;
}

 h4 {
  margin: 4px;
  padding:7px;
  background-color:orange;
  text-align: center;
  font-style: italic;

}
.btn {
  margin: 5px 3px;
}


.list-group-item{
    padding: 1px;
    font-size: large;
    font-weight: 400;
}

.carousel-item img{
  height: 300px;
}


.carousel-item.active img {
  height: 300px;
}
</style>

<h5>
  <%=user.username%> WELCOME TO MEMORIES PAGE! </h5>
 
<div class="cd flex-wrap">
 
        <% for(let meme of user.Memories) {%>  

       <div class="card">
        <div class="card-header">
          <%=meme.eventname%>
        </div>
        <div id="carouselExample" class="carousel slide">
            <div class="carousel-inner">
        <% for(let i=0;i < (meme.images.length);i++) {%> 
        <% if(i === 0) {%> 
              <div class="carousel-item active">
                <img src="<%=meme.images[i].path%>" class="d-block w-100" alt="">
            </div>
         <%} else {%>
                <div class="carousel-item">
                    <img src="<%=meme.images[i].path%>" class="d-block w-100" alt="">
                </div>
        <% } %>
        <% } %>
        </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">DATE OF EVENT:
         <p><%=meme.eventdate.getDate()+"/"+meme.eventdate.getMonth()+"/"+meme.eventdate.getFullYear()%>  </p>          
        EVENT DETAILS:<p><%=meme.eventdetails%></p>
     </li> 
        </ul>
          
        </div>
       

      <% } %>
     
  </div>